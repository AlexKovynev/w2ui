<div class="content">
    <div id="example_title">
        <h1>Promises</h1>
        Node, request, reload, save, submit  will return promisses.
    </div>
    <div id="example_view"></div>
    <div id="example_code"></div>
</div>

<!--CODE-->
<div id="form" style="width: 750px">
</div>

<!--CODE-->
<script>
// this function triggers on document.ready
query(() => {
    let form = new w2form({
        box: '#form',
        name: 'form',
        recid: 1, // if it is not defined, it will not load data from remote source
        url: {
            get: 'data/form-simple.json',
            save: 'server/post'
        },
        fields: [
            { field: 'first_name', type: 'text', required: true, html: { label: 'First Name', attr: 'style="width: 300px"' } },
            { field: 'last_name',  type: 'text', required: true, html: { label: 'Last Name', attr: 'style="width: 300px"' } },
            { field: 'comments',   type: 'textarea', html: { label: 'Comments', attr: 'style="width: 300px; height: 60px"' } }
        ],
        actions: {
            Reset() {
                this.clear()
            },
            Save() {
                console.log(this.save())
            }
        }
    })
})
</script>

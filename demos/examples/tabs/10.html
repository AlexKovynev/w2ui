<div class="content">
    <div id="example_title">
        <h1>Smooth Insert/Remove of Tabs</h1>
        You can add remove tabs quickly or with animation.
    </div>
    <div id="example_view"></div>
    <div id="example_code"></div>
</div>

<!--CODE-->
<div id="tabs" style="width: 100%;"></div>
<br><br>
<button class="w2ui-btn" onclick="addTab()">Insert 1 Tab</button>
<button class="w2ui-btn" onclick="addTabs()">Insert 3 Tabs</button>
<button class="w2ui-btn" onclick="add3()">Append  3 Tabs</button>

<div style="height: 15px"></div>
<button class="w2ui-btn" onclick="removeTab()">Remove Last Tab</button>
<button class="w2ui-btn" onclick="removeTabs()">Remove All Inserted</button>

<!--CODE-->
<script>
$(function () {
    $('#tabs').w2tabs({
        name: 'tabs',
        active: 'first',
        tabs: [
            { id: 'first', text: 'First Tab', style: 'background-color: #dcf6ff' }
        ]
    });
});

var ind = 1;

function addTab() {
    w2ui.tabs.insert('first', { id: 'tab'+ ind, text: 'Tab '+ ind, closable: true });
    ind++;
}

function addTabs() {
    w2ui.tabs.insert('first', [
        { id: 'tab'+ ind, text: 'Tab '+ ind, closable: true },
        { id: 'tab'+ (ind+1), text: 'Tab '+ (ind+1), closable: true },
        { id: 'tab'+ (ind+2), text: 'Tab '+ (ind+2), closable: true }
    ]);
    ind += 3;
}

function add3() {
    w2ui.tabs.add([
        { id: 'tab'+ind, text: 'Tab '+ ind, closable: true },
        { id: 'tab'+(ind+1), text: 'Tab '+ (ind+1), closable: true },
        { id: 'tab'+(ind+2), text: 'Tab '+ (ind+2), closable: true }
    ]);
    ind += 3
}

function removeTab() {
    if (ind == 1) return;
    ind--;
    w2ui.tabs.clickClose('tab'+ ind);
}

function removeTabs() {
    let tb = w2ui.tabs;
    let tabs = tb.get();
    tabs.splice(tabs.indexOf('first'), 1);
    tb.remove.apply(tb, tabs);
    ind = 1;
}
</script>

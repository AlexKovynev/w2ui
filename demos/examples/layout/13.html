<div class="content">
    <div id="example_title">
        <h1>When Content is Removed</h1>
        <p>
        If you need to clean up in case new content was loaded to the panel, you can use it as a promise.
        </p>

    </div>
    <div id="example_view"></div>
    <div id="example_code"></div>
</div>

<!--CODE-->
<div id="layout" style="width: 100%; height: 300px;"></div>

<div style="height: 20px;"></div>

<button class="w2ui-btn" onclick="w2ui.layout.html('main', 'Content of the panel').removed(removed)">Content 1</button>
<button class="w2ui-btn" onclick="w2ui.layout.html('main', 'Some other content').removed(removed)">Content 2</button>
<span id="log"></span>

<!--CODE-->
<script>
$(function () {
    var pstyle = 'border: 1px solid #dfdfdf; padding: 5px;';
    $('#layout').w2layout({
        name: 'layout',
        panels: [
            { type: 'left', size: 200, resizable: true, style: pstyle, content: 'left' },
            { type: 'main', style: pstyle + 'border-top: 0px;', content: 'main',
                callBack(event) {
                    $('#log').html('Original content is removed')
                }
            }
        ]
    })
})

function removed(event) {
    $('#log').html(`Content "<span style="color: gray">${event.content}</span>" is replaced with "<span style="color: gray">${event.new_content}</span>"`)
}
</script>
